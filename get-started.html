<!DOCTYPE html>
<html>
<head>
	<title>Get Started with Cassette</title>

	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	
	<meta name="description" content="" />
	<meta name="keywords" content="" />

    <meta name="robots" content="all" />
    <meta name="robots" content="index, follow" />
    <meta name="revisit-after" content="7 days" />
    <meta name="version" content="1.0" />
    <meta name="copyright" content="" />
    <link rel="shortcut icon" href="favicon.ico" />

	<!--
		This file is part of a site template for sale at ThemeForest.net.
		See: http://themeforest.net/user/simonbouchard/portfolio
		Copyright Â© 2009 Simon Bouchard <info@simonbouchard.com>
	-->

	<!-- Cascading Style Sheets -->
	<link rel="stylesheet" type="text/css" media="screen" href="assets/css/screen.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="assets/css/typography.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="assets/lightbox/css/jquery.lightbox-0.5.css" />
			
	<!--[if IE 6]>
	<link rel="stylesheet" type="text/css" media="screen" href="assets/css/ie.css" />
	<![endif]--> 	

    <!-- JavaScripts -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js"></script>
    <script type="text/javascript" src="assets/lightbox/js/jquery.lightbox-0.5.js"></script>
    <script type="text/javascript" src="assets/js/jquery.innerfade.js"></script>
	<script type="text/javascript" src="assets/js/jquery.functions.js"></script>
	
	<!--[if IE 6]>
	<script src="assets/js/pngfix.js"></script>
	<![endif]--> 	

</head>
<body class="subpage">

<!-- container -->
<div class="container">

	<!-- wrapper -->
	<div class="wrapper">
		
		<!-- header -->
		<div class="header">
			
			<div class="top-nav">
				
			<h1>Cassette</h1>
		
			<ul class="nav">
				<li><a href="index.html">Home</a></li>
				<li><a href="get-started.html"  class="selected">Get Started</a></li>
				<li><a href="support.html">Support</a></li>
				<li><a href="login.html">Login</a></li>				
			</ul>
			
			</div>
						
			<div class="page-title">
				
				<h2>Get Started</h2>

								
			</div>
				
		</div>
		<!-- // header -->
		
		<!-- sub-header -->		
		<div class="sub-header">
		
			<!-- content -->
			<div class="content-top"></div>
			<div class="content clearfix">
				

                <h5>Install</h5>
                <p>Cassette is added to a web application project using <a href="http://nuget.org/">nuget</a>.</p>
                <pre><code>PM&gt; Install-Package Cassette</code></pre>
                
                <h5>Arrange Assets</h5>
                <p>Arrange the application's JavaScript files into logical modules using folders.</p>
                <pre><code>~/scripts/libs/
    jquery.js
    jquery-ui.js
    knockout.js

~/scripts/widgets/
    twitter.js

~/scripts/app/
    main.js
    menu.js</code></pre>
                <p>Note that there are <strong>no .min.js</strong> files, only pure original source. 
                Cassette will handle minification for us.</p>
			    	
                <h5>Add References</h5>
<p>Each JavaScript file declares its references using Visual Studio XML comments. For example:</p>
                <pre><code><b>/// &lt;reference path="../lib/jquery.js"/&gt;</b>
<b>/// &lt;reference path="menu.js"/&gt;</b>

$(document).ready(function() {
    $("#menu").menu();
});
</code></pre>
                <p>In each view page (or partial view), any directly required scripts are referenced using a simple method call.
                We <strong>do not</strong> have to explicitly reference any scripts further back along the dependency chain. 
                Cassette will figure out those for us!
                </p>
                <pre><code>@{
    ViewBag.Title = "Epic Page";
    <b>Html.ReferenceScript("scripts/app/main.js");</b>
    <b>Html.ReferenceScript("scripts/widgets/twitter.js");</b>
}

&lt;p&gt;Epic page content&lt/p&gt;</code></pre>

                <h5>Layout/master Page</h5>
<p>In the layout/master page, a single HTML helper call generates all the required script elements.</p>
                <pre><code>&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;@ViewBag.Title&lt;/title&gt;
  <b>@Html.RenderScripts()</b>
&lt;/head&gt;
&lt;body&gt;
  @RenderBody()
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                <p>When the application is run in debug mode, Cassette generates all the <samp>&lt;script&gt;</samp> tags.
                They reference the original source files to make debugging easier. The scripts are in dependency order.</p>
                <p>A "cache breaker" is appended to the URLs
                to avoid having to force-reload by hand.</p>
                <pre><code>&lt;script src="/scripts/lib/jquery.js?1230981309182321" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="/scripts/lib/jquery-ui.js?1230981309182321" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="/scripts/widgets/twitter.js?1230981309182321" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="/scripts/app/menu.js?1230981309182321" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="/scripts/app/main.js?1230981309182321" type="text/javascript"&gt;&lt;/script&gt;</code></pre>

                <h5>Enter Production Mode</h5>
<p>Now for the magic, we switch off debug mode in the web.config. Cassette will generate special "module"
                script elements.</p>
                <pre><code>&lt;script src="/cassette.axd/scripts/lib_bc7ff25a612a696b9d227d2f845f896e9b4d6679" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="/cassette.axd/scripts/widgets_5e5f87d6878910f59a022382d28191415e752832" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="/cassette.axd/scripts/app_242f9b6e12e37cb3bde05c874296ca2db74764ab" type="text/javascript"&gt;&lt;/script&gt;
</code></pre>
                <p>The modules contain the ordered, concatenated and minified scripts from the source files. The HTTP cache
                is also set to be "long lived" so a web browser only needs to them download once.</p>
                <p>The long string of characters in the URL is a SHA-1 hash of the module. If the module changes in the future,
                the URL will be different and so web browsers download the new module automatically. This is versioning for free!</p>
	
			</div>
			<div class="content-btm"></div>
			<!-- // content -->

		
		</div>
		<!-- // sub-header -->
						
		<!-- footer -->
		<div class="footer">			
			
			<div class="copy">
				<p>Copyright &copy; 2009 Your Company. All rights reserved. &mdash; Designed by <a href="http://www.simonbouchard.com" title="Simon Bouchard">Simon Bouchard</a></p>		
			</div>
			<div class="twitter">
				<a href="#"><img src="images/bg_twitter.png" alt="Follow us on Twitter"></a>
			</div>

		</div>
		<!-- // footer -->
	
	</div>
	<!-- // wrapper -->
	
</div>
<!-- // container -->

</body>
</html>
